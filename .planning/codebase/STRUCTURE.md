# Codebase Structure

**Analysis Date:** 2026-02-13

## Directory Layout

```
ym-serving-system/
├── app/                    # Next.js App Router entry point and pages
├── components/             # Reusable component library
├── lib/                    # Shared utilities and helpers
├── hooks/                  # Custom React hooks
├── public/                 # Static assets
├── .planning/              # GSD planning artifacts
├── .claude/                # Claude Code configuration and GSD framework
├── .agents/                # Agent skills for multi-modal work
├── biome.json              # Biome linter/formatter configuration
├── tsconfig.json           # TypeScript configuration
├── next.config.ts          # Next.js configuration
├── package.json            # Project dependencies
├── pnpm-lock.yaml          # Exact dependency versions (pnpm)
└── CLAUDE.md               # Project guidelines for Claude Code
```

## Directory Purposes

**`app/`:**
- Purpose: Next.js App Router pages, layouts, and route segments
- Contains: Page components (`page.tsx`), root layout, global styles
- Key files: `layout.tsx` (root layout), `page.tsx` (home page), `globals.css` (theme + Tailwind imports)
- Convention: Nested directories create URL routes (e.g., `app/users/page.tsx` → `/users`)

**`components/`:**
- Purpose: Reusable UI components and component library
- Contains: shadcn/ui components (56+ pre-built components), custom components
- Key directory: `components/ui/` — All shadcn components live here
- Convention: One component per file, named after component (e.g., `button.tsx` exports Button)

**`components/ui/`:**
- Purpose: Pre-built, production-grade UI components from shadcn
- Contains: Buttons, forms, dialogs, cards, navigation, data display, feedback components
- Key files: `button.tsx`, `card.tsx`, `combobox.tsx`, `input-group.tsx`, `field.tsx`
- Pattern: Each component file exports a default component and variants
- Base: Components wrap Radix UI primitives with Tailwind styling

**`lib/`:**
- Purpose: Shared utility functions and helpers
- Contains: Class name merging utility, potential future API clients, validators
- Key files: `utils.ts` (cn() function)
- Convention: Exported as named functions for tree-shaking

**`hooks/`:**
- Purpose: Custom React hooks for reusable logic
- Contains: Client-side hooks requiring browser APIs
- Key files: `use-mobile.ts` (responsive breakpoint hook)
- Convention: File names start with `use-` (React hook naming convention)

**`public/`:**
- Purpose: Static assets served at root URL
- Contains: Images, fonts (if not via CDN), SVGs, icons
- Access: Referenced as `/filename` in components (e.g., `<Image src="/next.svg" />`)

**`.planning/codebase/`:**
- Purpose: GSD framework documentation and analysis artifacts
- Contains: ARCHITECTURE.md, STRUCTURE.md, CONVENTIONS.md, TESTING.md, STACK.md, CONCERNS.md
- Generated by: `/gsd:map-codebase` command for reference by `/gsd:plan-phase` and `/gsd:execute-phase`

**`.claude/`:**
- Purpose: Claude Code configuration, GSD framework, and custom commands
- Subdirectories: `get-shit-done/` (framework), `commands/` (custom Claude commands), `hooks/`, `skills/`
- Usage: Framework for spec-driven development (`/gsd:*` commands)

**`.agents/skills/`:**
- Purpose: Pre-built agent skills for multi-modal work
- Contains: Symlinks to skills in `.claude/skills/`
- Available: frontend-design, vercel-react-best-practices, vercel-composition-patterns, supabase-postgres-best-practices, agent-browser

## Key File Locations

**Entry Points:**
- `app/layout.tsx` — Root layout with fonts, metadata, global styles
- `app/page.tsx` — Home page at route `/`
- `next.config.ts` — Next.js configuration (empty, ready for options)

**Configuration:**
- `tsconfig.json` — TypeScript strict mode, path alias `@/*` → project root
- `biome.json` — Biome linter/formatter rules (2-space indent, React/Next recommended)
- `package.json` — Dependencies, scripts (dev, build, start, lint, format)
- `next.config.ts` — Next.js behavior (currently minimal)

**Core Styling:**
- `app/globals.css` — Tailwind v4 imports, CSS variable theme (light/dark), base layer styles
- Components use Tailwind classes and CSS variables defined in globals.css

**Utilities:**
- `lib/utils.ts` — `cn()` function for merging Tailwind classes without conflicts

**Hooks:**
- `hooks/use-mobile.ts` — Responsive hook for detecting mobile breakpoint (768px)

**Components:**
- `components/ui/button.tsx` — Button with variants (size, variant type)
- `components/ui/card.tsx` — Card compound component (Card, CardHeader, CardContent, CardFooter, etc.)
- `components/ui/combobox.tsx` — Searchable select component
- `components/ui/field.tsx` — Form field wrapper
- `components/ui/input-group.tsx` — Input with addon/button support
- (55 more UI components in `components/ui/`)

## Naming Conventions

**Files:**
- `.tsx` for React components (client or server)
- `.ts` for utilities and hooks
- `.css` for stylesheets
- PascalCase for component files that export a component (e.g., `Button.tsx` exports `Button`)
- kebab-case for utility/hook files (e.g., `use-mobile.ts`, `cn()` in `utils.ts`)

**Directories:**
- kebab-case for route segments (e.g., `app/user-settings/page.tsx` → `/user-settings`)
- lowercase for collections (e.g., `components/`, `hooks/`, `lib/`)

**Components:**
- PascalCase for component names (e.g., `Button`, `Card`, `ComboBox`)
- Compound components export as namespaced (e.g., `Card`, `CardHeader`, `CardContent`)
- Variants exported separately (e.g., `buttonVariants`, `badgeVariants`)

**Functions & Variables:**
- camelCase for functions and variables (e.g., `useIsMobile()`, `cn()`)
- UPPER_CASE for constants (potential, not yet established)

**Classes & Types:**
- PascalCase for TypeScript interfaces and types (inherited from React patterns)
- Example: `React.ComponentProps<"button">` for component prop typing

## Where to Add New Code

**New Page/Route:**
- Create directory in `app/` with desired URL path
- Add `page.tsx` with default export component
- Example: `app/products/page.tsx` creates route `/products`
- Optionally add `layout.tsx` in same directory for route-specific layout

**New UI Component:**
- Add `.tsx` file in `components/ui/`
- Follow shadcn pattern: wrap Radix UI primitive with Tailwind styles
- Use `cn()` utility to merge base classes with overrides
- Export component and variant types (if using CVA)
- Example: `components/ui/my-component.tsx`

**New Custom Component (not UI):**
- Create `components/` subdirectory for feature-specific components
- Example: `components/forms/`, `components/layouts/`, `components/features/`
- Keep this separate from `components/ui/` to distinguish reusable UI from feature-specific components

**New Hook:**
- Add `.ts` file in `hooks/` directory
- Name with `use-` prefix (e.g., `use-cart.ts`)
- Export named function
- Mark file with `"use client"` if it uses hooks or browser APIs
- Example: `hooks/use-cart.ts`

**New Utility:**
- Add `.ts` file in `lib/` directory
- Export named functions
- No `"use client"` directive (utilities are shared)
- Example: `lib/api.ts`, `lib/validators.ts`

**New API Route (when needed):**
- Create `route.ts` in `app/` directory path
- Next.js converts to API endpoint
- Example: `app/api/users/route.ts` creates POST/GET `/api/users`
- Currently not configured, but ready for implementation

## Special Directories

**`public/`:**
- Purpose: Static asset serving
- Generated: No
- Committed: Yes
- Access: From components via `/` root path prefix

**`.next/`:**
- Purpose: Next.js build output and cache
- Generated: Yes (created by `pnpm build` or `pnpm dev`)
- Committed: No (in `.gitignore`)

**`node_modules/`:**
- Purpose: Installed npm dependencies
- Generated: Yes (created by `pnpm install`)
- Committed: No (in `.gitignore`)

**`.planning/`:**
- Purpose: GSD planning artifacts and analysis documents
- Generated: Yes (via `/gsd:map-codebase` and `/gsd:plan-phase`)
- Committed: Yes (tracks project planning and progress)

**`.claude/`:**
- Purpose: Claude Code configuration and GSD framework
- Generated: No (checked into repo)
- Committed: Yes (shared across team)

---

*Structure analysis: 2026-02-13*
